#  ABOUT THE FILE
#  uploads.hzshuangmei.com.pagespeed.conf
#  www.hzshuangmei.com/uploads

pagespeed on;
#pagespeed EnableFilters debug;
pagespeed ImplicitCacheTtlMs 31104000000;
pagespeed InPlaceResourceOptimization on;
pagespeed EnableFilters in_place_optimize_for_browser;
pagespeed FetcherTimeoutMs 10000;
pagespeed LRUCacheKbPerProcess     8192;
pagespeed LRUCacheByteLimit        16384;
pagespeed CombineAcrossPaths on;
pagespeed RewriteRandomDropPercentage 0;
#pagespeed AddOptionsToUrls on;
pagespeed RespectVary on;
pagespeed LowercaseHtmlNames on;
pagespeed LazyloadImagesAfterOnload off;
pagespeed EnableFilters inline_preview_images;
pagespeed EnableFilters hint_preload_subresources;   
pagespeed FetchHttps enable,allow_self_signed,allow_unknown_certificate_authority,allow_certificate_not_yet_valid; 
pagespeed SslCertDirectory /etc/letsencrypt/live/www.hzshuangmei.com-0001/;
pagespeed SslCertFile /etc/letsencrypt/live/www.hzshuangmei.com-0001/cert.pem;
pagespeed ReportUnloadTime on; 
pagespeed LoadFromFile "https://uploads.hzshuangmei.com/" "/alidata1/web/www.hzshuangmei.com/uploads/";
pagespeed LoadFromFileRuleMatch allow \.jpe?g$;
pagespeed LoadFromFileRuleMatch allow \.png$;
pagespeed LoadFromFileRuleMatch allow \.gif$;
pagespeed LoadFromFileRuleMatch allow \.webp$;
pagespeed FileCachePath /dev/shm/ngx_pagespeed_cache/;  
#pagespeed FileCacheSizeKb            1024000;
pagespeed FileCacheCleanIntervalMs   -1;
pagespeed FileCacheInodeLimit        500000; 
pagespeed EnableFilters prioritize_critical_css;
pagespeed EnableFilters flatten_css_imports;
pagespeed CssFlattenMaxBytes 5120;
pagespeed EnableFilters add_head;
pagespeed DisableFilters add_instrumentation;
pagespeed EnableFilters combine_heads;
pagespeed EnableFilters convert_meta_tags;
pagespeed HttpCacheCompressionLevel 9;
pagespeed PrivateNotVaryForIE off;
pagespeed EnableFilters in_place_optimize_for_browser;
pagespeed EnableFilters dedup_inlined_images;
pagespeed EnableFilters inline_images;
pagespeed EnableFilters insert_image_dimensions;
pagespeed EnableFilters recompress_images;
pagespeed JpegRecompressionQuality 95;
pagespeed JpegRecompressionQualityForSmallScreens 85;
pagespeed ImageRecompressionQuality 90;
pagespeed WebpRecompressionQuality 90;
pagespeed EnableFilters jpeg_subsampling;
pagespeed EnableFilters convert_gif_to_png;
pagespeed EnableFilters convert_png_to_jpeg;
pagespeed EnableFilters convert_jpeg_to_progressive;
pagespeed EnableFilters convert_jpeg_to_webp;
pagespeed EnableFilters recompress_webp;
pagespeed EnableFilters convert_to_webp_lossless;
pagespeed EnableFilters convert_to_webp_animated;
pagespeed EnableFilters inline_import_to_link;
pagespeed EnableFilters local_storage_cache;
pagespeed EnableFilters resize_images;
pagespeed ImageResolutionLimitBytes 128000000;
pagespeed EnableFilters move_css_above_scripts;
pagespeed EnableFilters move_css_to_head;
#pagespeed EnableFilters remove_quotes; 
pagespeed RewriteLevel PassThrough;    
pagespeed EnableFilters collapse_whitespace;    
pagespeed EnableFilters combine_css;    
pagespeed EnableFilters combine_javascript;    
pagespeed EnableFilters rewrite_css,sprite_images;
pagespeed EnableFilters elide_attributes;    
pagespeed EnableFilters extend_cache;    
pagespeed EnableFilters lazyload_images; 
pagespeed EnableFilters responsive_images_zoom; 
pagespeed EnableFilters rewrite_css;
pagespeed EnableFilters trim_urls;  
pagespeed EnableFilters rewrite_javascript;    
pagespeed UseExperimentalJsMinifier on;
pagespeed EnableFilters rewrite_css;  
pagespeed EnableFilters strip_image_meta_data;
pagespeed EnableFilters insert_dns_prefetch; 
pagespeed EnableFilters remove_comments;
pagespeed EnableFilters trim_urls;
pagespeed EnableFilters rewrite_style_attributes_with_url;
pagespeed XHeaderValue "uploads Proudly Presented by Google";
pagespeed PreserveUrlRelativity off;
#pagespeed MemcachedServers "127.0.0.1:11211";
#pagespeed MemcachedTimeoutUs 100000;
#pagespeed RedisServer "127.0.0.1:6379";
pagespeed Disallow *.pagespeed.*;
####### ngx_pagespeed
pagespeed Statistics on;
pagespeed StatisticsLogging on;
pagespeed StatisticsLoggingIntervalMs 60000;
pagespeed StatisticsLoggingMaxFileSizeKb 1024;
pagespeed LogDir /alidata1/pagespeed_logs;
pagespeed StatisticsPath /ngx_pagespeed_statistics;
pagespeed MessagesPath /ngx_pagespeed_message;
pagespeed ConsolePath /pagespeed_console;
pagespeed AdminPath /pagespeed_admin;
pagespeed EnableCachePurge off;
pagespeed Domain https://www.hzshuangmei.com;
pagespeed Domain https://m.hzshuangmei.com;
pagespeed Domain https://css.hzshuangmei.com;
pagespeed Domain https://js.hzshuangmei.com;
pagespeed Domain https://img.hzshuangmei.com;
pagespeed Domain https://uploads.hzshuangmei.com;
pagespeed Domain https://*.hzshuangmei.com;
location ~ "\.pagespeed\.([a-z]\.)?[a-z]{2}\.[^.]{10}\.[^.]+" { }
location /ngx_pagespeed_statistics {  }
location /ngx_pagespeed_message { }
location /pagespeed_console { }
location ~ ^/pagespeed_admin { }
